{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Autowired, Bean, Optional } from \"../../context/context\";\nimport { AgPromise } from \"../../utils\";\nimport { CellEditorComponent, CellRendererComponent, DateComponent, FilterComponent, FloatingFilterComponent, HeaderComponent, HeaderGroupComponent, InnerRendererComponent, LoadingOverlayComponent, NoRowsOverlayComponent, StatusPanelComponent, ToolPanelComponent, TooltipComponent } from \"./componentTypes\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { cloneObject, mergeDeep } from '../../utils/object';\n\nvar UserComponentFactory = function (_super) {\n  __extends(UserComponentFactory, _super);\n\n  function UserComponentFactory() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  UserComponentFactory.prototype.newDateComponent = function (params) {\n    return this.lookupAndCreateComponent(this.gridOptions, params, DateComponent, 'agDateInput');\n  };\n\n  UserComponentFactory.prototype.newHeaderComponent = function (params) {\n    return this.lookupAndCreateComponent(params.column.getColDef(), params, HeaderComponent, 'agColumnHeader');\n  };\n\n  UserComponentFactory.prototype.newHeaderGroupComponent = function (params) {\n    return this.lookupAndCreateComponent(params.columnGroup.getColGroupDef(), params, HeaderGroupComponent, 'agColumnGroupHeader');\n  }; // this one is unusual, as it can be LoadingCellRenderer, DetailCellRenderer, FullWidthCellRenderer or GroupRowRenderer.\n  // so we have to pass the type in.\n\n\n  UserComponentFactory.prototype.newFullWidthCellRenderer = function (params, cellRendererType, cellRendererName) {\n    return this.lookupAndCreateComponent(this.gridOptions, params, {\n      propertyName: cellRendererType,\n      isCellRenderer: function () {\n        return true;\n      }\n    }, cellRendererName);\n  };\n\n  UserComponentFactory.prototype.getFullWidthCellRendererDetails = function (params, cellRendererType, cellRendererName) {\n    return this.getCompDetails(this.gridOptions, cellRendererType, cellRendererName, params);\n  };\n\n  UserComponentFactory.prototype.createFullWidthCellRenderer = function (userCompDetails, cellRendererType) {\n    return this.createAndInitComponent(userCompDetails, {\n      propertyName: cellRendererType,\n      isCellRenderer: function () {\n        return true;\n      }\n    });\n  }; // CELL RENDERER\n\n\n  UserComponentFactory.prototype.newCellRenderer = function (def, params) {\n    return this.lookupAndCreateComponent(def, params, CellRendererComponent, null, true);\n  };\n\n  UserComponentFactory.prototype.getInnerRendererDetails = function (def, params) {\n    return this.getCompDetails(def, InnerRendererComponent.propertyName, null, params);\n  };\n\n  UserComponentFactory.prototype.getFullWidthGroupRowInnerCellRenderer = function (def, params) {\n    return this.getCompDetails(def, InnerRendererComponent.propertyName, null, params);\n  }; // delete this one\n\n\n  UserComponentFactory.prototype.newFullWidthGroupRowInnerCellRenderer = function (params) {\n    return this.lookupAndCreateComponent(this.gridOptions.groupRowRendererParams, params, InnerRendererComponent, null, true);\n  }; // delete this one\n\n\n  UserComponentFactory.prototype.newInnerCellRenderer = function (def, params) {\n    return this.lookupAndCreateComponent(def, params, InnerRendererComponent, null);\n  };\n\n  UserComponentFactory.prototype.getCellRendererDetails = function (def, params) {\n    return this.getCompDetails(def, CellRendererComponent.propertyName, null, params);\n  };\n\n  UserComponentFactory.prototype.createCellRenderer = function (userCompDetails) {\n    return this.createAndInitComponent(userCompDetails, CellRendererComponent);\n  }; // CELL EDITOR\n\n\n  UserComponentFactory.prototype.newCellEditor = function (colDef, params) {\n    return this.lookupAndCreateComponent(colDef, params, CellEditorComponent, 'agCellEditor');\n  };\n\n  UserComponentFactory.prototype.getCellEditorDetails = function (def, params) {\n    return this.getCompDetails(def, CellEditorComponent.propertyName, 'agCellEditor', params, true);\n  };\n\n  UserComponentFactory.prototype.createCellEditor = function (compClassAndParams) {\n    return this.createAndInitComponent(compClassAndParams, CellEditorComponent);\n  };\n\n  UserComponentFactory.prototype.newLoadingOverlayComponent = function (params) {\n    return this.lookupAndCreateComponent(this.gridOptions, params, LoadingOverlayComponent, 'agLoadingOverlay');\n  };\n\n  UserComponentFactory.prototype.newNoRowsOverlayComponent = function (params) {\n    return this.lookupAndCreateComponent(this.gridOptions, params, NoRowsOverlayComponent, 'agNoRowsOverlay');\n  };\n\n  UserComponentFactory.prototype.newTooltipComponent = function (params) {\n    return this.lookupAndCreateComponent(params.colDef, params, TooltipComponent, 'agTooltipComponent');\n  };\n\n  UserComponentFactory.prototype.newFilterComponent = function (def, params, defaultFilter) {\n    return this.lookupAndCreateComponent(def, params, FilterComponent, defaultFilter, false);\n  };\n\n  UserComponentFactory.prototype.newSetFilterCellRenderer = function (def, params) {\n    return this.lookupAndCreateComponent(def, params, CellRendererComponent, null, true);\n  };\n\n  UserComponentFactory.prototype.newFloatingFilterComponent = function (def, params, defaultFloatingFilter) {\n    return this.lookupAndCreateComponent(def, params, FloatingFilterComponent, defaultFloatingFilter, true);\n  };\n\n  UserComponentFactory.prototype.newToolPanelComponent = function (toolPanelDef, params) {\n    return this.lookupAndCreateComponent(toolPanelDef, params, ToolPanelComponent);\n  };\n\n  UserComponentFactory.prototype.newStatusPanelComponent = function (def, params) {\n    return this.lookupAndCreateComponent(def, params, StatusPanelComponent);\n  };\n\n  UserComponentFactory.prototype.getCompDetails = function (defObject, propName, defaultName, params, mandatory) {\n    if (mandatory === void 0) {\n      mandatory = false;\n    }\n\n    var compDetails = this.lookupComponent(defObject, propName, params, defaultName);\n\n    if (!compDetails || !compDetails.componentClass) {\n      if (mandatory) {\n        this.logComponentMissing(defObject, propName);\n      }\n\n      return undefined;\n    }\n\n    var paramsMerged = this.mergeParamsWithApplicationProvidedParams(defObject, propName, params, compDetails.params);\n    return __assign(__assign({}, compDetails), {\n      params: paramsMerged\n    });\n  };\n  /**\n   * This method creates a component given everything needed to guess what sort of component needs to be instantiated\n   * It takes\n   *  @param definitionObject: This is the context for which this component needs to be created, it can be gridOptions\n   *      (global) or columnDef mostly.\n   *  @param paramsFromGrid: Params to be passed to the component and passed by AG Grid. This will get merged with any params\n   *      specified by the user in the configuration\n   *  @param propertyName: The name of the property used in ag-grid as a convention to refer to the component, it can be:\n   *      'floatingFilter', 'cellRenderer', is used to find if the user is specifying a custom component\n   *  @param defaultComponentName: The actual name of the component to instantiate, this is usually the same as propertyName, but in\n   *      some cases is not, like floatingFilter, if it is the same is not necessary to specify\n   *  @param optional: Handy method to tell if this should return a component ALWAYS. if that is the case, but there is no\n   *      component found, it throws an error, by default all components are MANDATORY\n   */\n\n\n  UserComponentFactory.prototype.lookupAndCreateComponent = function (def, paramsFromGrid, componentType, defaultComponentName, // optional items are: FloatingFilter, CellComp (for cellRenderer)\n  optional) {\n    if (optional === void 0) {\n      optional = false;\n    }\n\n    var compClassAndParams = this.getCompDetails(def, componentType.propertyName, defaultComponentName, paramsFromGrid, !optional);\n\n    if (!compClassAndParams) {\n      return null;\n    }\n\n    return this.createAndInitComponent(compClassAndParams, componentType, defaultComponentName);\n  };\n\n  UserComponentFactory.prototype.createAndInitComponent = function (compClassAndParams, componentType, defaultComponentName) {\n    if (!compClassAndParams) {\n      return null;\n    }\n\n    var params = compClassAndParams.params,\n        componentClass = compClassAndParams.componentClass,\n        componentFromFramework = compClassAndParams.componentFromFramework; // Create the component instance\n\n    var instance = this.createComponentInstance(componentType, defaultComponentName, componentClass, componentFromFramework);\n\n    if (!instance) {\n      return null;\n    }\n\n    this.addReactHacks(params);\n    var deferredInit = this.initComponent(instance, params);\n\n    if (deferredInit == null) {\n      return AgPromise.resolve(instance);\n    }\n\n    return deferredInit.then(function () {\n      return instance;\n    });\n  };\n\n  UserComponentFactory.prototype.addReactHacks = function (params) {\n    // a temporary fix for AG-1574\n    // AG-1715 raised to do a wider ranging refactor to improve this\n    var agGridReact = this.context.getBean('agGridReact');\n\n    if (agGridReact) {\n      params.agGridReact = cloneObject(agGridReact);\n    } // AG-1716 - directly related to AG-1574 and AG-1715\n\n\n    var frameworkComponentWrapper = this.context.getBean('frameworkComponentWrapper');\n\n    if (frameworkComponentWrapper) {\n      params.frameworkComponentWrapper = frameworkComponentWrapper;\n    }\n  };\n  /**\n   * This method creates a component given everything needed to guess what sort of component needs to be instantiated\n   * It takes\n   *  @param CompClass: The class to instantiate,\n   *  @param agGridParams: Params to be passed to the component and passed by AG Grid. This will get merged with any params\n   *      specified by the user in the configuration\n   *  @param modifyParamsCallback: A chance to customise the params passed to the init method. It receives what the current\n   *  params are and the component that init is about to get called for\n   */\n\n\n  UserComponentFactory.prototype.createUserComponentFromConcreteClass = function (CompClass, agGridParams) {\n    var internalComponent = new CompClass();\n    this.initComponent(internalComponent, agGridParams);\n    return internalComponent;\n  };\n\n  UserComponentFactory.prototype.lookupComponent = function (defObject, propertyName, params, defaultComponentName) {\n    var _this = this;\n\n    if (params === void 0) {\n      params = null;\n    }\n\n    var paramsFromSelector;\n    var comp;\n    var frameworkComp; // pull from defObject if available\n\n    if (defObject) {\n      var defObjectAny = defObject; // if selector, use this\n\n      var selectorFunc = defObjectAny[propertyName + 'Selector'];\n      var selectorRes = selectorFunc ? selectorFunc(params) : null;\n\n      if (selectorRes) {\n        comp = selectorRes.component;\n        frameworkComp = selectorRes.frameworkComponent;\n        paramsFromSelector = selectorRes.params;\n      } else {\n        // if no selector, or result of selector is empty, take from defObject\n        comp = defObjectAny[propertyName];\n        frameworkComp = defObjectAny[propertyName + 'Framework'];\n      } // for filters only, we allow 'true' for the component, which means default filter to be used\n\n\n      if (comp === true) {\n        comp = undefined;\n      }\n    }\n\n    var lookupFromRegistry = function (key) {\n      var item = _this.userComponentRegistry.retrieve(key);\n\n      if (item) {\n        comp = !item.componentFromFramework ? item.component : undefined;\n        frameworkComp = item.componentFromFramework ? item.component : undefined;\n      } else {\n        comp = undefined;\n        frameworkComp = undefined;\n      }\n    }; // if compOption is a string, means we need to look the item up\n\n\n    if (typeof comp === 'string') {\n      lookupFromRegistry(comp);\n    } // if lookup brought nothing back, and we have a default, lookup the default\n\n\n    if (comp == null && frameworkComp == null && defaultComponentName != null) {\n      lookupFromRegistry(defaultComponentName);\n    } // if we have a comp option, and it's a function, replace it with an object equivalent adaptor\n\n\n    if (comp && !this.agComponentUtils.doesImplementIComponent(comp)) {\n      comp = this.agComponentUtils.adaptFunction(propertyName, comp);\n    }\n\n    if (!comp && !frameworkComp) {\n      return null;\n    }\n\n    return {\n      componentFromFramework: comp == null,\n      componentClass: comp ? comp : frameworkComp,\n      params: paramsFromSelector\n    };\n  };\n  /**\n   * Useful to check what would be the resultant params for a given object\n   *  @param definitionObject: This is the context for which this component needs to be created, it can be gridOptions\n   *      (global) or columnDef mostly.\n   *  @param propertyName: The name of the property used in ag-grid as a convention to refer to the component, it can be:\n   *      'floatingFilter', 'cellRenderer', is used to find if the user is specifying a custom component\n   *  @param paramsFromGrid: Params to be passed to the component and passed by AG Grid. This will get merged with any params\n   *      specified by the user in the configuration\n   * @returns {TParams} It merges the user agGridParams with the actual params specified by the user.\n   */\n\n\n  UserComponentFactory.prototype.mergeParamsWithApplicationProvidedParams = function (definitionObject, propertyName, paramsFromGrid, paramsFromSelector) {\n    if (paramsFromSelector === void 0) {\n      paramsFromSelector = null;\n    }\n\n    var params = {};\n    mergeDeep(params, paramsFromGrid);\n    var userParams = definitionObject ? definitionObject[propertyName + \"Params\"] : null;\n\n    if (userParams != null) {\n      if (typeof userParams === 'function') {\n        var userParamsFromFunc = userParams(paramsFromGrid);\n        mergeDeep(params, userParamsFromFunc);\n      } else if (typeof userParams === 'object') {\n        mergeDeep(params, userParams);\n      }\n    }\n\n    mergeDeep(params, paramsFromSelector);\n    return params;\n  };\n\n  UserComponentFactory.prototype.logComponentMissing = function (holder, propertyName, defaultComponentName) {\n    // to help the user, we print out the name they are looking for, rather than the default name.\n    // i don't know why the default name was originally printed out (that doesn't help the user)\n    var overrideName = holder ? holder[propertyName] : defaultComponentName;\n    var nameToReport = overrideName ? overrideName : defaultComponentName;\n    console.error(\"Could not find component \" + nameToReport + \", did you forget to configure this component?\");\n  };\n\n  UserComponentFactory.prototype.createComponentInstance = function (componentType, defaultComponentName, component, componentFromFramework) {\n    var propertyName = componentType.propertyName; // using javascript component\n\n    var jsComponent = !componentFromFramework;\n\n    if (jsComponent) {\n      return new component();\n    }\n\n    if (!this.frameworkComponentWrapper) {\n      console.warn(\"AG Grid - Because you are using our new React UI (property reactUi=true), it is not possible to use a React Component for \" + componentType.propertyName + \". This is work in progress and we plan to support this soon. In the meantime, please either set reactUi=false, or replace this component with one written in JavaScript.\");\n      return null;\n    } // Using framework component\n\n\n    var FrameworkComponentRaw = component;\n    var thisComponentConfig = this.componentMetadataProvider.retrieve(propertyName);\n    return this.frameworkComponentWrapper.wrap(FrameworkComponentRaw, thisComponentConfig.mandatoryMethodList, thisComponentConfig.optionalMethodList, componentType, defaultComponentName);\n  };\n\n  UserComponentFactory.prototype.initComponent = function (component, params) {\n    this.context.createBean(component);\n\n    if (component.init == null) {\n      return;\n    }\n\n    return component.init(params);\n  };\n\n  __decorate([Autowired('gridOptions')], UserComponentFactory.prototype, \"gridOptions\", void 0);\n\n  __decorate([Autowired('agComponentUtils')], UserComponentFactory.prototype, \"agComponentUtils\", void 0);\n\n  __decorate([Autowired('componentMetadataProvider')], UserComponentFactory.prototype, \"componentMetadataProvider\", void 0);\n\n  __decorate([Autowired('userComponentRegistry')], UserComponentFactory.prototype, \"userComponentRegistry\", void 0);\n\n  __decorate([Optional('frameworkComponentWrapper')], UserComponentFactory.prototype, \"frameworkComponentWrapper\", void 0);\n\n  UserComponentFactory = __decorate([Bean('userComponentFactory')], UserComponentFactory);\n  return UserComponentFactory;\n}(BeanStub);\n\nexport { UserComponentFactory };","map":{"version":3,"sources":["/Users/mphelps/react-app/TasQDashboard-main/node_modules/@ag-grid-community/core/dist/es6/components/framework/userComponentFactory.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Autowired","Bean","Optional","AgPromise","CellEditorComponent","CellRendererComponent","DateComponent","FilterComponent","FloatingFilterComponent","HeaderComponent","HeaderGroupComponent","InnerRendererComponent","LoadingOverlayComponent","NoRowsOverlayComponent","StatusPanelComponent","ToolPanelComponent","TooltipComponent","BeanStub","cloneObject","mergeDeep","UserComponentFactory","_super","newDateComponent","params","lookupAndCreateComponent","gridOptions","newHeaderComponent","column","getColDef","newHeaderGroupComponent","columnGroup","getColGroupDef","newFullWidthCellRenderer","cellRendererType","cellRendererName","propertyName","isCellRenderer","getFullWidthCellRendererDetails","getCompDetails","createFullWidthCellRenderer","userCompDetails","createAndInitComponent","newCellRenderer","def","getInnerRendererDetails","getFullWidthGroupRowInnerCellRenderer","newFullWidthGroupRowInnerCellRenderer","groupRowRendererParams","newInnerCellRenderer","getCellRendererDetails","createCellRenderer","newCellEditor","colDef","getCellEditorDetails","createCellEditor","compClassAndParams","newLoadingOverlayComponent","newNoRowsOverlayComponent","newTooltipComponent","newFilterComponent","defaultFilter","newSetFilterCellRenderer","newFloatingFilterComponent","defaultFloatingFilter","newToolPanelComponent","toolPanelDef","newStatusPanelComponent","defObject","propName","defaultName","mandatory","compDetails","lookupComponent","componentClass","logComponentMissing","undefined","paramsMerged","mergeParamsWithApplicationProvidedParams","paramsFromGrid","componentType","defaultComponentName","optional","componentFromFramework","instance","createComponentInstance","addReactHacks","deferredInit","initComponent","resolve","then","agGridReact","context","getBean","frameworkComponentWrapper","createUserComponentFromConcreteClass","CompClass","agGridParams","internalComponent","_this","paramsFromSelector","comp","frameworkComp","defObjectAny","selectorFunc","selectorRes","component","frameworkComponent","lookupFromRegistry","item","userComponentRegistry","retrieve","agComponentUtils","doesImplementIComponent","adaptFunction","definitionObject","userParams","userParamsFromFunc","holder","overrideName","nameToReport","console","error","jsComponent","warn","FrameworkComponentRaw","thisComponentConfig","componentMetadataProvider","wrap","mandatoryMethodList","optionalMethodList","createBean","init"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Autowired, Bean, Optional } from \"../../context/context\";\nimport { AgPromise } from \"../../utils\";\nimport { CellEditorComponent, CellRendererComponent, DateComponent, FilterComponent, FloatingFilterComponent, HeaderComponent, HeaderGroupComponent, InnerRendererComponent, LoadingOverlayComponent, NoRowsOverlayComponent, StatusPanelComponent, ToolPanelComponent, TooltipComponent } from \"./componentTypes\";\nimport { BeanStub } from \"../../context/beanStub\";\nimport { cloneObject, mergeDeep } from '../../utils/object';\nvar UserComponentFactory = /** @class */ (function (_super) {\n    __extends(UserComponentFactory, _super);\n    function UserComponentFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    UserComponentFactory.prototype.newDateComponent = function (params) {\n        return this.lookupAndCreateComponent(this.gridOptions, params, DateComponent, 'agDateInput');\n    };\n    UserComponentFactory.prototype.newHeaderComponent = function (params) {\n        return this.lookupAndCreateComponent(params.column.getColDef(), params, HeaderComponent, 'agColumnHeader');\n    };\n    UserComponentFactory.prototype.newHeaderGroupComponent = function (params) {\n        return this.lookupAndCreateComponent(params.columnGroup.getColGroupDef(), params, HeaderGroupComponent, 'agColumnGroupHeader');\n    };\n    // this one is unusual, as it can be LoadingCellRenderer, DetailCellRenderer, FullWidthCellRenderer or GroupRowRenderer.\n    // so we have to pass the type in.\n    UserComponentFactory.prototype.newFullWidthCellRenderer = function (params, cellRendererType, cellRendererName) {\n        return this.lookupAndCreateComponent(this.gridOptions, params, { propertyName: cellRendererType, isCellRenderer: function () { return true; } }, cellRendererName);\n    };\n    UserComponentFactory.prototype.getFullWidthCellRendererDetails = function (params, cellRendererType, cellRendererName) {\n        return this.getCompDetails(this.gridOptions, cellRendererType, cellRendererName, params);\n    };\n    UserComponentFactory.prototype.createFullWidthCellRenderer = function (userCompDetails, cellRendererType) {\n        return this.createAndInitComponent(userCompDetails, { propertyName: cellRendererType, isCellRenderer: function () { return true; } });\n    };\n    // CELL RENDERER\n    UserComponentFactory.prototype.newCellRenderer = function (def, params) {\n        return this.lookupAndCreateComponent(def, params, CellRendererComponent, null, true);\n    };\n    UserComponentFactory.prototype.getInnerRendererDetails = function (def, params) {\n        return this.getCompDetails(def, InnerRendererComponent.propertyName, null, params);\n    };\n    UserComponentFactory.prototype.getFullWidthGroupRowInnerCellRenderer = function (def, params) {\n        return this.getCompDetails(def, InnerRendererComponent.propertyName, null, params);\n    };\n    // delete this one\n    UserComponentFactory.prototype.newFullWidthGroupRowInnerCellRenderer = function (params) {\n        return this.lookupAndCreateComponent(this.gridOptions.groupRowRendererParams, params, InnerRendererComponent, null, true);\n    };\n    // delete this one\n    UserComponentFactory.prototype.newInnerCellRenderer = function (def, params) {\n        return this.lookupAndCreateComponent(def, params, InnerRendererComponent, null);\n    };\n    UserComponentFactory.prototype.getCellRendererDetails = function (def, params) {\n        return this.getCompDetails(def, CellRendererComponent.propertyName, null, params);\n    };\n    UserComponentFactory.prototype.createCellRenderer = function (userCompDetails) {\n        return this.createAndInitComponent(userCompDetails, CellRendererComponent);\n    };\n    // CELL EDITOR\n    UserComponentFactory.prototype.newCellEditor = function (colDef, params) {\n        return this.lookupAndCreateComponent(colDef, params, CellEditorComponent, 'agCellEditor');\n    };\n    UserComponentFactory.prototype.getCellEditorDetails = function (def, params) {\n        return this.getCompDetails(def, CellEditorComponent.propertyName, 'agCellEditor', params, true);\n    };\n    UserComponentFactory.prototype.createCellEditor = function (compClassAndParams) {\n        return this.createAndInitComponent(compClassAndParams, CellEditorComponent);\n    };\n    UserComponentFactory.prototype.newLoadingOverlayComponent = function (params) {\n        return this.lookupAndCreateComponent(this.gridOptions, params, LoadingOverlayComponent, 'agLoadingOverlay');\n    };\n    UserComponentFactory.prototype.newNoRowsOverlayComponent = function (params) {\n        return this.lookupAndCreateComponent(this.gridOptions, params, NoRowsOverlayComponent, 'agNoRowsOverlay');\n    };\n    UserComponentFactory.prototype.newTooltipComponent = function (params) {\n        return this.lookupAndCreateComponent(params.colDef, params, TooltipComponent, 'agTooltipComponent');\n    };\n    UserComponentFactory.prototype.newFilterComponent = function (def, params, defaultFilter) {\n        return this.lookupAndCreateComponent(def, params, FilterComponent, defaultFilter, false);\n    };\n    UserComponentFactory.prototype.newSetFilterCellRenderer = function (def, params) {\n        return this.lookupAndCreateComponent(def, params, CellRendererComponent, null, true);\n    };\n    UserComponentFactory.prototype.newFloatingFilterComponent = function (def, params, defaultFloatingFilter) {\n        return this.lookupAndCreateComponent(def, params, FloatingFilterComponent, defaultFloatingFilter, true);\n    };\n    UserComponentFactory.prototype.newToolPanelComponent = function (toolPanelDef, params) {\n        return this.lookupAndCreateComponent(toolPanelDef, params, ToolPanelComponent);\n    };\n    UserComponentFactory.prototype.newStatusPanelComponent = function (def, params) {\n        return this.lookupAndCreateComponent(def, params, StatusPanelComponent);\n    };\n    UserComponentFactory.prototype.getCompDetails = function (defObject, propName, defaultName, params, mandatory) {\n        if (mandatory === void 0) { mandatory = false; }\n        var compDetails = this.lookupComponent(defObject, propName, params, defaultName);\n        if (!compDetails || !compDetails.componentClass) {\n            if (mandatory) {\n                this.logComponentMissing(defObject, propName);\n            }\n            return undefined;\n        }\n        var paramsMerged = this.mergeParamsWithApplicationProvidedParams(defObject, propName, params, compDetails.params);\n        return __assign(__assign({}, compDetails), { params: paramsMerged });\n    };\n    /**\n     * This method creates a component given everything needed to guess what sort of component needs to be instantiated\n     * It takes\n     *  @param definitionObject: This is the context for which this component needs to be created, it can be gridOptions\n     *      (global) or columnDef mostly.\n     *  @param paramsFromGrid: Params to be passed to the component and passed by AG Grid. This will get merged with any params\n     *      specified by the user in the configuration\n     *  @param propertyName: The name of the property used in ag-grid as a convention to refer to the component, it can be:\n     *      'floatingFilter', 'cellRenderer', is used to find if the user is specifying a custom component\n     *  @param defaultComponentName: The actual name of the component to instantiate, this is usually the same as propertyName, but in\n     *      some cases is not, like floatingFilter, if it is the same is not necessary to specify\n     *  @param optional: Handy method to tell if this should return a component ALWAYS. if that is the case, but there is no\n     *      component found, it throws an error, by default all components are MANDATORY\n     */\n    UserComponentFactory.prototype.lookupAndCreateComponent = function (def, paramsFromGrid, componentType, defaultComponentName, \n    // optional items are: FloatingFilter, CellComp (for cellRenderer)\n    optional) {\n        if (optional === void 0) { optional = false; }\n        var compClassAndParams = this.getCompDetails(def, componentType.propertyName, defaultComponentName, paramsFromGrid, !optional);\n        if (!compClassAndParams) {\n            return null;\n        }\n        return this.createAndInitComponent(compClassAndParams, componentType, defaultComponentName);\n    };\n    UserComponentFactory.prototype.createAndInitComponent = function (compClassAndParams, componentType, defaultComponentName) {\n        if (!compClassAndParams) {\n            return null;\n        }\n        var params = compClassAndParams.params, componentClass = compClassAndParams.componentClass, componentFromFramework = compClassAndParams.componentFromFramework;\n        // Create the component instance\n        var instance = this.createComponentInstance(componentType, defaultComponentName, componentClass, componentFromFramework);\n        if (!instance) {\n            return null;\n        }\n        this.addReactHacks(params);\n        var deferredInit = this.initComponent(instance, params);\n        if (deferredInit == null) {\n            return AgPromise.resolve(instance);\n        }\n        return deferredInit.then(function () { return instance; });\n    };\n    UserComponentFactory.prototype.addReactHacks = function (params) {\n        // a temporary fix for AG-1574\n        // AG-1715 raised to do a wider ranging refactor to improve this\n        var agGridReact = this.context.getBean('agGridReact');\n        if (agGridReact) {\n            params.agGridReact = cloneObject(agGridReact);\n        }\n        // AG-1716 - directly related to AG-1574 and AG-1715\n        var frameworkComponentWrapper = this.context.getBean('frameworkComponentWrapper');\n        if (frameworkComponentWrapper) {\n            params.frameworkComponentWrapper = frameworkComponentWrapper;\n        }\n    };\n    /**\n     * This method creates a component given everything needed to guess what sort of component needs to be instantiated\n     * It takes\n     *  @param CompClass: The class to instantiate,\n     *  @param agGridParams: Params to be passed to the component and passed by AG Grid. This will get merged with any params\n     *      specified by the user in the configuration\n     *  @param modifyParamsCallback: A chance to customise the params passed to the init method. It receives what the current\n     *  params are and the component that init is about to get called for\n     */\n    UserComponentFactory.prototype.createUserComponentFromConcreteClass = function (CompClass, agGridParams) {\n        var internalComponent = new CompClass();\n        this.initComponent(internalComponent, agGridParams);\n        return internalComponent;\n    };\n    UserComponentFactory.prototype.lookupComponent = function (defObject, propertyName, params, defaultComponentName) {\n        var _this = this;\n        if (params === void 0) { params = null; }\n        var paramsFromSelector;\n        var comp;\n        var frameworkComp;\n        // pull from defObject if available\n        if (defObject) {\n            var defObjectAny = defObject;\n            // if selector, use this\n            var selectorFunc = defObjectAny[propertyName + 'Selector'];\n            var selectorRes = selectorFunc ? selectorFunc(params) : null;\n            if (selectorRes) {\n                comp = selectorRes.component;\n                frameworkComp = selectorRes.frameworkComponent;\n                paramsFromSelector = selectorRes.params;\n            }\n            else {\n                // if no selector, or result of selector is empty, take from defObject\n                comp = defObjectAny[propertyName];\n                frameworkComp = defObjectAny[propertyName + 'Framework'];\n            }\n            // for filters only, we allow 'true' for the component, which means default filter to be used\n            if (comp === true) {\n                comp = undefined;\n            }\n        }\n        var lookupFromRegistry = function (key) {\n            var item = _this.userComponentRegistry.retrieve(key);\n            if (item) {\n                comp = !item.componentFromFramework ? item.component : undefined;\n                frameworkComp = item.componentFromFramework ? item.component : undefined;\n            }\n            else {\n                comp = undefined;\n                frameworkComp = undefined;\n            }\n        };\n        // if compOption is a string, means we need to look the item up\n        if (typeof comp === 'string') {\n            lookupFromRegistry(comp);\n        }\n        // if lookup brought nothing back, and we have a default, lookup the default\n        if (comp == null && frameworkComp == null && defaultComponentName != null) {\n            lookupFromRegistry(defaultComponentName);\n        }\n        // if we have a comp option, and it's a function, replace it with an object equivalent adaptor\n        if (comp && !this.agComponentUtils.doesImplementIComponent(comp)) {\n            comp = this.agComponentUtils.adaptFunction(propertyName, comp);\n        }\n        if (!comp && !frameworkComp) {\n            return null;\n        }\n        return {\n            componentFromFramework: comp == null,\n            componentClass: comp ? comp : frameworkComp,\n            params: paramsFromSelector\n        };\n    };\n    /**\n     * Useful to check what would be the resultant params for a given object\n     *  @param definitionObject: This is the context for which this component needs to be created, it can be gridOptions\n     *      (global) or columnDef mostly.\n     *  @param propertyName: The name of the property used in ag-grid as a convention to refer to the component, it can be:\n     *      'floatingFilter', 'cellRenderer', is used to find if the user is specifying a custom component\n     *  @param paramsFromGrid: Params to be passed to the component and passed by AG Grid. This will get merged with any params\n     *      specified by the user in the configuration\n     * @returns {TParams} It merges the user agGridParams with the actual params specified by the user.\n     */\n    UserComponentFactory.prototype.mergeParamsWithApplicationProvidedParams = function (definitionObject, propertyName, paramsFromGrid, paramsFromSelector) {\n        if (paramsFromSelector === void 0) { paramsFromSelector = null; }\n        var params = {};\n        mergeDeep(params, paramsFromGrid);\n        var userParams = definitionObject ? definitionObject[propertyName + \"Params\"] : null;\n        if (userParams != null) {\n            if (typeof userParams === 'function') {\n                var userParamsFromFunc = userParams(paramsFromGrid);\n                mergeDeep(params, userParamsFromFunc);\n            }\n            else if (typeof userParams === 'object') {\n                mergeDeep(params, userParams);\n            }\n        }\n        mergeDeep(params, paramsFromSelector);\n        return params;\n    };\n    UserComponentFactory.prototype.logComponentMissing = function (holder, propertyName, defaultComponentName) {\n        // to help the user, we print out the name they are looking for, rather than the default name.\n        // i don't know why the default name was originally printed out (that doesn't help the user)\n        var overrideName = holder ? holder[propertyName] : defaultComponentName;\n        var nameToReport = overrideName ? overrideName : defaultComponentName;\n        console.error(\"Could not find component \" + nameToReport + \", did you forget to configure this component?\");\n    };\n    UserComponentFactory.prototype.createComponentInstance = function (componentType, defaultComponentName, component, componentFromFramework) {\n        var propertyName = componentType.propertyName;\n        // using javascript component\n        var jsComponent = !componentFromFramework;\n        if (jsComponent) {\n            return new component();\n        }\n        if (!this.frameworkComponentWrapper) {\n            console.warn(\"AG Grid - Because you are using our new React UI (property reactUi=true), it is not possible to use a React Component for \" + componentType.propertyName + \". This is work in progress and we plan to support this soon. In the meantime, please either set reactUi=false, or replace this component with one written in JavaScript.\");\n            return null;\n        }\n        // Using framework component\n        var FrameworkComponentRaw = component;\n        var thisComponentConfig = this.componentMetadataProvider.retrieve(propertyName);\n        return this.frameworkComponentWrapper.wrap(FrameworkComponentRaw, thisComponentConfig.mandatoryMethodList, thisComponentConfig.optionalMethodList, componentType, defaultComponentName);\n    };\n    UserComponentFactory.prototype.initComponent = function (component, params) {\n        this.context.createBean(component);\n        if (component.init == null) {\n            return;\n        }\n        return component.init(params);\n    };\n    __decorate([\n        Autowired('gridOptions')\n    ], UserComponentFactory.prototype, \"gridOptions\", void 0);\n    __decorate([\n        Autowired('agComponentUtils')\n    ], UserComponentFactory.prototype, \"agComponentUtils\", void 0);\n    __decorate([\n        Autowired('componentMetadataProvider')\n    ], UserComponentFactory.prototype, \"componentMetadataProvider\", void 0);\n    __decorate([\n        Autowired('userComponentRegistry')\n    ], UserComponentFactory.prototype, \"userComponentRegistry\", void 0);\n    __decorate([\n        Optional('frameworkComponentWrapper')\n    ], UserComponentFactory.prototype, \"frameworkComponentWrapper\", void 0);\n    UserComponentFactory = __decorate([\n        Bean('userComponentFactory')\n    ], UserComponentFactory);\n    return UserComponentFactory;\n}(BeanStub));\nexport { UserComponentFactory };\n"]},"metadata":{},"sourceType":"module"}