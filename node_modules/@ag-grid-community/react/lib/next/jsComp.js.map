{"version":3,"sources":["next/jsComp.tsx"],"names":[],"mappings":";;;AAGa,QAAA,UAAU,GAAG,UACtB,WAAwC,EACxC,OAAgB,EAAE,OAAoB,EACtC,eAAyF,EACzF,GAA2B;IAG3B,IAAM,SAAS,GAAG,CAAC,WAAW,IAAI,WAAW,CAAC,sBAAsB,CAAC;IACrE,IAAI,SAAS,EAAE;QAAE,OAAO;KAAE;IAE1B,IAAM,IAAI,GAAG,oBAAY,CAAC,OAAO,EAAE,eAAe,CAAsB,CAAC;IAEzE,IAAI,CAAC,IAAI,EAAE;QAAE,OAAO;KAAE;IAEtB,IAAM,OAAO,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;IAE9B,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IAE7B,IAAI,GAAG,EAAE;QACL,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC;KACtB;IAED,OAAO;QACH,IAAM,OAAO,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;QAE9B,IAAI,OAAO,IAAI,OAAO,CAAC,aAAa,EAAE;YAClC,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SAC9C;QAED,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAE1B,IAAI,GAAG,EAAE;YACL,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC;SAC3B;IACL,CAAC,CAAC;AACN,CAAC,CAAA;AAEY,QAAA,YAAY,GAAG,UACxB,OAAgB,EAChB,eAAyF;IAGzF,IAAM,WAAW,GAAG,OAAO,CAAC,OAAO,CAAC,sBAAsB,CAAyB,CAAC;IACpF,IAAM,OAAO,GAAG,eAAe,CAAC,WAAW,CAAC,CAAC;IAC7C,IAAI,CAAC,OAAO,EAAE;QAAE,OAAO;KAAE;IAEzB,OAAO,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE,UAAA,CAAC,IAAI,OAAA,CAAC,EAAD,CAAC,CAAC,CAAC,CAAC,2BAA2B;AACxE,CAAC,CAAC","file":"jsComp.js","sourcesContent":["import { Context, UserCompDetails, UserComponentFactory, IComponent, AgPromise, ICellRendererComp } from '@ag-grid-community/core';\nimport { MutableRefObject } from 'react';\n\nexport const showJsComp = (\n    compDetails: UserCompDetails | undefined, \n    context: Context, eParent: HTMLElement, \n    callCompFactory: (compFactory: UserComponentFactory) => AgPromise<IComponent<any>> | null,\n    ref?: MutableRefObject<any>\n)  => {\n\n    const doNothing = !compDetails || compDetails.componentFromFramework;\n    if (doNothing) { return; }\n\n    const comp = createJsComp(context, callCompFactory) as ICellRendererComp;\n\n    if (!comp) { return; }\n\n    const compGui = comp.getGui();\n\n    eParent.appendChild(compGui);\n\n    if (ref) {\n        ref.current = comp;\n    }\n\n    return () => {\n        const compGui = comp.getGui();\n\n        if (compGui && compGui.parentElement) {\n            compGui.parentElement.removeChild(compGui);\n        }\n\n        context.destroyBean(comp);\n\n        if (ref) {\n            ref.current = undefined;\n        }\n    };\n}\n\nexport const createJsComp = (\n    context: Context,\n    callCompFactory: (compFactory: UserComponentFactory) => AgPromise<IComponent<any>> | null\n): any => {\n\n    const compFactory = context.getBean('userComponentFactory') as UserComponentFactory;\n    const promise = callCompFactory(compFactory);\n    if (!promise) { return; }\n\n    return promise.resolveNow(null, x => x); // js comps are never async\n};"]}