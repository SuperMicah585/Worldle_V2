{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nimport { DragAndDropService, DragSourceType, VerticalDirection } from \"../dragAndDrop/dragAndDropService\";\nimport { Autowired, Optional, PostConstruct } from \"../context/context\";\nimport { Events } from \"../eventKeys\";\nimport { RowHighlightPosition } from \"../entities/rowNode\";\nimport { last } from '../utils/array';\nimport { BeanStub } from \"../context/beanStub\";\nimport { exists, missingOrEmpty } from \"../utils/generic\";\nimport { doOnce } from \"../utils/function\";\n\nvar RowDragFeature = function (_super) {\n  __extends(RowDragFeature, _super);\n\n  function RowDragFeature(eContainer) {\n    var _this = _super.call(this) || this;\n\n    _this.isMultiRowDrag = false;\n    _this.isGridSorted = false;\n    _this.isGridFiltered = false;\n    _this.isRowGroupActive = false;\n    _this.eContainer = eContainer;\n    return _this;\n  }\n\n  RowDragFeature.prototype.postConstruct = function () {\n    if (this.gridOptionsWrapper.isRowModelDefault()) {\n      this.clientSideRowModel = this.rowModel;\n    }\n\n    this.addManagedListener(this.eventService, Events.EVENT_SORT_CHANGED, this.onSortChanged.bind(this));\n    this.addManagedListener(this.eventService, Events.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this));\n    this.addManagedListener(this.eventService, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.onRowGroupChanged.bind(this));\n    this.onSortChanged();\n    this.onFilterChanged();\n    this.onRowGroupChanged();\n  };\n\n  RowDragFeature.prototype.onSortChanged = function () {\n    this.isGridSorted = this.sortController.isSortActive();\n  };\n\n  RowDragFeature.prototype.onFilterChanged = function () {\n    this.isGridFiltered = this.filterManager.isAnyFilterPresent();\n  };\n\n  RowDragFeature.prototype.onRowGroupChanged = function () {\n    var rowGroups = this.columnModel.getRowGroupColumns();\n    this.isRowGroupActive = !missingOrEmpty(rowGroups);\n  };\n\n  RowDragFeature.prototype.getContainer = function () {\n    return this.eContainer;\n  };\n\n  RowDragFeature.prototype.isInterestedIn = function (type) {\n    return type === DragSourceType.RowDrag;\n  };\n\n  RowDragFeature.prototype.getIconName = function () {\n    var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n\n    if (managedDrag && this.shouldPreventRowMove()) {\n      return DragAndDropService.ICON_NOT_ALLOWED;\n    }\n\n    return DragAndDropService.ICON_MOVE;\n  };\n\n  RowDragFeature.prototype.shouldPreventRowMove = function () {\n    return this.isGridSorted || this.isGridFiltered || this.isRowGroupActive;\n  };\n\n  RowDragFeature.prototype.getRowNodes = function (draggingEvent) {\n    if (!this.isFromThisGrid(draggingEvent)) {\n      return draggingEvent.dragItem.rowNodes || [];\n    }\n\n    var enableMultiRowDragging = this.gridOptionsWrapper.isEnableMultiRowDragging();\n    var selectedNodes = this.selectionService.getSelectedNodes();\n    var currentNode = draggingEvent.dragItem.rowNode;\n\n    if (enableMultiRowDragging && selectedNodes.indexOf(currentNode) !== -1) {\n      this.isMultiRowDrag = true;\n      return __spreadArrays(selectedNodes);\n    }\n\n    this.isMultiRowDrag = false;\n    return [currentNode];\n  };\n\n  RowDragFeature.prototype.onDragEnter = function (draggingEvent) {\n    // when entering, we fire the enter event, then in onEnterOrDragging,\n    // we also fire the move event. so we get both events when entering.\n    this.dispatchGridEvent(Events.EVENT_ROW_DRAG_ENTER, draggingEvent);\n    this.getRowNodes(draggingEvent).forEach(function (rowNode) {\n      rowNode.setDragging(true);\n    });\n    this.onEnterOrDragging(draggingEvent);\n  };\n\n  RowDragFeature.prototype.onDragging = function (draggingEvent) {\n    this.onEnterOrDragging(draggingEvent);\n  };\n\n  RowDragFeature.prototype.isFromThisGrid = function (draggingEvent) {\n    var dragSourceDomDataKey = draggingEvent.dragSource.dragSourceDomDataKey;\n    return dragSourceDomDataKey === this.gridOptionsWrapper.getDomDataKey();\n  };\n\n  RowDragFeature.prototype.isDropZoneWithinThisGrid = function (draggingEvent) {\n    var gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n    var gridGui = gridBodyCon.getGui();\n    var dropZoneTarget = draggingEvent.dropZoneTarget;\n    return !gridGui.contains(dropZoneTarget);\n  };\n\n  RowDragFeature.prototype.onEnterOrDragging = function (draggingEvent) {\n    // this event is fired for enter and move\n    this.dispatchGridEvent(Events.EVENT_ROW_DRAG_MOVE, draggingEvent);\n    this.lastDraggingEvent = draggingEvent;\n    var pixel = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n    var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n\n    if (managedDrag) {\n      this.doManagedDrag(draggingEvent, pixel);\n    }\n\n    this.checkCenterForScrolling(pixel);\n  };\n\n  RowDragFeature.prototype.doManagedDrag = function (draggingEvent, pixel) {\n    var _this = this;\n\n    var rowNodes;\n    var isFromThisGrid = this.isFromThisGrid(draggingEvent);\n\n    if (isFromThisGrid) {\n      rowNodes = [draggingEvent.dragItem.rowNode];\n\n      if (this.isMultiRowDrag) {\n        rowNodes = __spreadArrays(this.selectionService.getSelectedNodes()).sort(function (a, b) {\n          return _this.getRowIndexNumber(a) - _this.getRowIndexNumber(b);\n        });\n      }\n\n      draggingEvent.dragItem.rowNodes = rowNodes;\n    } else {\n      rowNodes = draggingEvent.dragItem.rowNodes;\n    }\n\n    var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n\n    if (managedDrag && this.shouldPreventRowMove()) {\n      return;\n    }\n\n    if (this.gridOptionsWrapper.isSuppressMoveWhenRowDragging() || !isFromThisGrid) {\n      if (!this.isDropZoneWithinThisGrid(draggingEvent)) {\n        this.clientSideRowModel.highlightRowAtPixel(rowNodes[0], pixel);\n      }\n    } else {\n      this.moveRows(rowNodes, pixel);\n    }\n  };\n\n  RowDragFeature.prototype.getRowIndexNumber = function (rowNode) {\n    return parseInt(last(rowNode.getRowIndexString().split('-')), 10);\n  };\n\n  RowDragFeature.prototype.moveRowAndClearHighlight = function (draggingEvent) {\n    var _this = this;\n\n    var lastHighlightedRowNode = this.clientSideRowModel.getLastHighlightedRowNode();\n    var isBelow = lastHighlightedRowNode && lastHighlightedRowNode.highlighted === RowHighlightPosition.Below;\n    var pixel = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n    var rowNodes = draggingEvent.dragItem.rowNodes;\n    var increment = isBelow ? 1 : 0;\n\n    if (this.isFromThisGrid(draggingEvent)) {\n      rowNodes.forEach(function (rowNode) {\n        if (rowNode.rowTop < pixel) {\n          increment -= 1;\n        }\n      });\n      this.moveRows(rowNodes, pixel, increment);\n    } else {\n      var getRowNodeId_1 = this.gridOptionsWrapper.getRowNodeIdFunc();\n      var addIndex = this.clientSideRowModel.getRowIndexAtPixel(pixel) + 1;\n\n      if (this.clientSideRowModel.getHighlightPosition(pixel) === RowHighlightPosition.Above) {\n        addIndex--;\n      }\n\n      this.clientSideRowModel.updateRowData({\n        add: rowNodes.map(function (node) {\n          return node.data;\n        }).filter(function (data) {\n          return !_this.clientSideRowModel.getRowNode(getRowNodeId_1 ? getRowNodeId_1(data) : data.id);\n        }),\n        addIndex: addIndex\n      });\n    }\n\n    this.clearRowHighlight();\n  };\n\n  RowDragFeature.prototype.clearRowHighlight = function () {\n    this.clientSideRowModel.highlightRowAtPixel(null);\n  };\n\n  RowDragFeature.prototype.moveRows = function (rowNodes, pixel, increment) {\n    if (increment === void 0) {\n      increment = 0;\n    }\n\n    var rowWasMoved = this.clientSideRowModel.ensureRowsAtPixel(rowNodes, pixel, increment);\n\n    if (rowWasMoved) {\n      this.focusService.clearFocusedCell();\n\n      if (this.rangeService) {\n        this.rangeService.removeAllCellRanges();\n      }\n    }\n  };\n\n  RowDragFeature.prototype.checkCenterForScrolling = function (pixel) {\n    // scroll if the mouse is within 50px of the grid edge\n    var gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n    var pixelRange = gridBodyCon.getScrollFeature().getVScrollPosition(); // console.log(`pixelRange = (${pixelRange.top}, ${pixelRange.bottom})`);\n\n    this.needToMoveUp = pixel < pixelRange.top + 50;\n    this.needToMoveDown = pixel > pixelRange.bottom - 50; // console.log(`needToMoveUp = ${this.needToMoveUp} = pixel < (pixelRange.top + 50) = ${pixel} < (${pixelRange.top} + 50)`);\n    // console.log(`needToMoveDown = ${this.needToMoveDown} = pixel < (pixelRange.top + 50) = ${pixel} < (${pixelRange.top} + 50)`);\n\n    if (this.needToMoveUp || this.needToMoveDown) {\n      this.ensureIntervalStarted();\n    } else {\n      this.ensureIntervalCleared();\n    }\n  };\n\n  RowDragFeature.prototype.ensureIntervalStarted = function () {\n    if (this.movingIntervalId) {\n      return;\n    }\n\n    this.intervalCount = 0;\n    this.movingIntervalId = window.setInterval(this.moveInterval.bind(this), 100);\n  };\n\n  RowDragFeature.prototype.ensureIntervalCleared = function () {\n    if (!exists(this.movingIntervalId)) {\n      return;\n    }\n\n    window.clearInterval(this.movingIntervalId);\n    this.movingIntervalId = null;\n  };\n\n  RowDragFeature.prototype.moveInterval = function () {\n    // the amounts we move get bigger at each interval, so the speed accelerates, starting a bit slow\n    // and getting faster. this is to give smoother user experience. we max at 100px to limit the speed.\n    var pixelsToMove;\n    this.intervalCount++;\n    pixelsToMove = 10 + this.intervalCount * 5;\n\n    if (pixelsToMove > 100) {\n      pixelsToMove = 100;\n    }\n\n    var pixelsMoved = null;\n    var gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n\n    if (this.needToMoveDown) {\n      pixelsMoved = gridBodyCon.scrollVertically(pixelsToMove);\n    } else if (this.needToMoveUp) {\n      pixelsMoved = gridBodyCon.scrollVertically(-pixelsToMove);\n    }\n\n    if (pixelsMoved !== 0) {\n      this.onDragging(this.lastDraggingEvent);\n    }\n  };\n\n  RowDragFeature.prototype.addRowDropZone = function (params) {\n    var _this = this;\n\n    if (!params.getContainer()) {\n      doOnce(function () {\n        return console.warn('AG Grid: addRowDropZone - A container target needs to be provided');\n      }, 'add-drop-zone-empty-target');\n      return;\n    }\n\n    if (this.dragAndDropService.findExternalZone(params)) {\n      console.warn('AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.');\n      return;\n    }\n\n    var processedParams = {\n      getContainer: params.getContainer\n    };\n\n    if (params.fromGrid) {\n      params.fromGrid = undefined;\n      processedParams = params;\n    } else {\n      if (params.onDragEnter) {\n        processedParams.onDragEnter = function (e) {\n          params.onDragEnter(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER, e));\n        };\n      }\n\n      if (params.onDragLeave) {\n        processedParams.onDragLeave = function (e) {\n          params.onDragLeave(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE, e));\n        };\n      }\n\n      if (params.onDragging) {\n        processedParams.onDragging = function (e) {\n          params.onDragging(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE, e));\n        };\n      }\n\n      if (params.onDragStop) {\n        processedParams.onDragStop = function (e) {\n          params.onDragStop(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END, e));\n        };\n      }\n    }\n\n    this.dragAndDropService.addDropTarget(__assign({\n      isInterestedIn: function (type) {\n        return type === DragSourceType.RowDrag;\n      },\n      getIconName: function () {\n        return DragAndDropService.ICON_MOVE;\n      },\n      external: true\n    }, processedParams));\n  };\n\n  RowDragFeature.prototype.getRowDropZone = function (events) {\n    var _this = this;\n\n    var getContainer = this.getContainer.bind(this);\n    var onDragEnter = this.onDragEnter.bind(this);\n    var onDragLeave = this.onDragLeave.bind(this);\n    var onDragging = this.onDragging.bind(this);\n    var onDragStop = this.onDragStop.bind(this);\n\n    if (!events) {\n      return {\n        getContainer: getContainer,\n        onDragEnter: onDragEnter,\n        onDragLeave: onDragLeave,\n        onDragging: onDragging,\n        onDragStop: onDragStop,\n\n        /* @private */\n        fromGrid: true\n      };\n    }\n\n    return {\n      getContainer: getContainer,\n      onDragEnter: events.onDragEnter ? function (e) {\n        onDragEnter(e);\n        events.onDragEnter(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER, e));\n      } : onDragEnter,\n      onDragLeave: events.onDragLeave ? function (e) {\n        onDragLeave(e);\n        events.onDragLeave(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE, e));\n      } : onDragLeave,\n      onDragging: events.onDragging ? function (e) {\n        onDragging(e);\n        events.onDragging(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE, e));\n      } : onDragging,\n      onDragStop: events.onDragStop ? function (e) {\n        onDragStop(e);\n        events.onDragStop(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END, e));\n      } : onDragStop,\n      fromGrid: true\n      /* @private */\n\n    };\n  };\n\n  RowDragFeature.prototype.draggingToRowDragEvent = function (type, draggingEvent) {\n    var yNormalised = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n    var mouseIsPastLastRow = yNormalised > this.paginationProxy.getCurrentPageHeight();\n    var overIndex = -1;\n    var overNode;\n\n    if (!mouseIsPastLastRow) {\n      overIndex = this.rowModel.getRowIndexAtPixel(yNormalised);\n      overNode = this.rowModel.getRow(overIndex);\n    }\n\n    var vDirectionString;\n\n    switch (draggingEvent.vDirection) {\n      case VerticalDirection.Down:\n        vDirectionString = 'down';\n        break;\n\n      case VerticalDirection.Up:\n        vDirectionString = 'up';\n        break;\n\n      default:\n        vDirectionString = null;\n        break;\n    }\n\n    var event = {\n      type: type,\n      api: this.gridOptionsWrapper.getApi(),\n      columnApi: this.gridOptionsWrapper.getColumnApi(),\n      event: draggingEvent.event,\n      node: draggingEvent.dragItem.rowNode,\n      nodes: draggingEvent.dragItem.rowNodes,\n      overIndex: overIndex,\n      overNode: overNode,\n      y: yNormalised,\n      vDirection: vDirectionString\n    };\n    return event;\n  };\n\n  RowDragFeature.prototype.dispatchGridEvent = function (type, draggingEvent) {\n    var event = this.draggingToRowDragEvent(type, draggingEvent);\n    this.eventService.dispatchEvent(event);\n  };\n\n  RowDragFeature.prototype.onDragLeave = function (draggingEvent) {\n    this.dispatchGridEvent(Events.EVENT_ROW_DRAG_LEAVE, draggingEvent);\n    this.stopDragging(draggingEvent);\n\n    if (this.gridOptionsWrapper.isRowDragManaged()) {\n      this.clearRowHighlight();\n    }\n\n    if (this.isFromThisGrid(draggingEvent)) {\n      this.isMultiRowDrag = false;\n    }\n  };\n\n  RowDragFeature.prototype.onDragStop = function (draggingEvent) {\n    this.dispatchGridEvent(Events.EVENT_ROW_DRAG_END, draggingEvent);\n    this.stopDragging(draggingEvent);\n\n    if (this.gridOptionsWrapper.isRowDragManaged() && (this.gridOptionsWrapper.isSuppressMoveWhenRowDragging() || !this.isFromThisGrid(draggingEvent)) && !this.isDropZoneWithinThisGrid(draggingEvent)) {\n      this.moveRowAndClearHighlight(draggingEvent);\n    }\n  };\n\n  RowDragFeature.prototype.stopDragging = function (draggingEvent) {\n    this.ensureIntervalCleared();\n    this.getRowNodes(draggingEvent).forEach(function (rowNode) {\n      rowNode.setDragging(false);\n    });\n  };\n\n  __decorate([Autowired('dragAndDropService')], RowDragFeature.prototype, \"dragAndDropService\", void 0);\n\n  __decorate([Autowired('rowModel')], RowDragFeature.prototype, \"rowModel\", void 0);\n\n  __decorate([Autowired('paginationProxy')], RowDragFeature.prototype, \"paginationProxy\", void 0);\n\n  __decorate([Autowired('columnModel')], RowDragFeature.prototype, \"columnModel\", void 0);\n\n  __decorate([Autowired('focusService')], RowDragFeature.prototype, \"focusService\", void 0);\n\n  __decorate([Autowired('sortController')], RowDragFeature.prototype, \"sortController\", void 0);\n\n  __decorate([Autowired('filterManager')], RowDragFeature.prototype, \"filterManager\", void 0);\n\n  __decorate([Autowired('selectionService')], RowDragFeature.prototype, \"selectionService\", void 0);\n\n  __decorate([Optional('rangeService')], RowDragFeature.prototype, \"rangeService\", void 0);\n\n  __decorate([Autowired('mouseEventService')], RowDragFeature.prototype, \"mouseEventService\", void 0);\n\n  __decorate([Autowired('ctrlsService')], RowDragFeature.prototype, \"ctrlsService\", void 0);\n\n  __decorate([PostConstruct], RowDragFeature.prototype, \"postConstruct\", null);\n\n  return RowDragFeature;\n}(BeanStub);\n\nexport { RowDragFeature };","map":{"version":3,"sources":["/Users/mphelps/react-app/TasQDashboard-main/node_modules/@ag-grid-community/core/dist/es6/gridBodyComp/rowDragFeature.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__spreadArrays","il","k","a","j","jl","DragAndDropService","DragSourceType","VerticalDirection","Autowired","Optional","PostConstruct","Events","RowHighlightPosition","last","BeanStub","exists","missingOrEmpty","doOnce","RowDragFeature","_super","eContainer","_this","isMultiRowDrag","isGridSorted","isGridFiltered","isRowGroupActive","postConstruct","gridOptionsWrapper","isRowModelDefault","clientSideRowModel","rowModel","addManagedListener","eventService","EVENT_SORT_CHANGED","onSortChanged","bind","EVENT_FILTER_CHANGED","onFilterChanged","EVENT_COLUMN_ROW_GROUP_CHANGED","onRowGroupChanged","sortController","isSortActive","filterManager","isAnyFilterPresent","rowGroups","columnModel","getRowGroupColumns","getContainer","isInterestedIn","type","RowDrag","getIconName","managedDrag","isRowDragManaged","shouldPreventRowMove","ICON_NOT_ALLOWED","ICON_MOVE","getRowNodes","draggingEvent","isFromThisGrid","dragItem","rowNodes","enableMultiRowDragging","isEnableMultiRowDragging","selectedNodes","selectionService","getSelectedNodes","currentNode","rowNode","indexOf","onDragEnter","dispatchGridEvent","EVENT_ROW_DRAG_ENTER","forEach","setDragging","onEnterOrDragging","onDragging","dragSourceDomDataKey","dragSource","getDomDataKey","isDropZoneWithinThisGrid","gridBodyCon","ctrlsService","getGridBodyCtrl","gridGui","getGui","dropZoneTarget","contains","EVENT_ROW_DRAG_MOVE","lastDraggingEvent","pixel","mouseEventService","getNormalisedPosition","y","doManagedDrag","checkCenterForScrolling","sort","getRowIndexNumber","isSuppressMoveWhenRowDragging","highlightRowAtPixel","moveRows","parseInt","getRowIndexString","split","moveRowAndClearHighlight","lastHighlightedRowNode","getLastHighlightedRowNode","isBelow","highlighted","Below","increment","rowTop","getRowNodeId_1","getRowNodeIdFunc","addIndex","getRowIndexAtPixel","getHighlightPosition","Above","updateRowData","add","map","node","data","filter","getRowNode","id","clearRowHighlight","rowWasMoved","ensureRowsAtPixel","focusService","clearFocusedCell","rangeService","removeAllCellRanges","pixelRange","getScrollFeature","getVScrollPosition","needToMoveUp","top","needToMoveDown","bottom","ensureIntervalStarted","ensureIntervalCleared","movingIntervalId","intervalCount","window","setInterval","moveInterval","clearInterval","pixelsToMove","pixelsMoved","scrollVertically","addRowDropZone","params","console","warn","dragAndDropService","findExternalZone","processedParams","fromGrid","undefined","e","draggingToRowDragEvent","onDragLeave","EVENT_ROW_DRAG_LEAVE","onDragStop","EVENT_ROW_DRAG_END","addDropTarget","external","getRowDropZone","events","yNormalised","mouseIsPastLastRow","paginationProxy","getCurrentPageHeight","overIndex","overNode","getRow","vDirectionString","vDirection","Down","Up","event","api","getApi","columnApi","getColumnApi","nodes","dispatchEvent","stopDragging"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { DragAndDropService, DragSourceType, VerticalDirection } from \"../dragAndDrop/dragAndDropService\";\nimport { Autowired, Optional, PostConstruct } from \"../context/context\";\nimport { Events } from \"../eventKeys\";\nimport { RowHighlightPosition } from \"../entities/rowNode\";\nimport { last } from '../utils/array';\nimport { BeanStub } from \"../context/beanStub\";\nimport { exists, missingOrEmpty } from \"../utils/generic\";\nimport { doOnce } from \"../utils/function\";\nvar RowDragFeature = /** @class */ (function (_super) {\n    __extends(RowDragFeature, _super);\n    function RowDragFeature(eContainer) {\n        var _this = _super.call(this) || this;\n        _this.isMultiRowDrag = false;\n        _this.isGridSorted = false;\n        _this.isGridFiltered = false;\n        _this.isRowGroupActive = false;\n        _this.eContainer = eContainer;\n        return _this;\n    }\n    RowDragFeature.prototype.postConstruct = function () {\n        if (this.gridOptionsWrapper.isRowModelDefault()) {\n            this.clientSideRowModel = this.rowModel;\n        }\n        this.addManagedListener(this.eventService, Events.EVENT_SORT_CHANGED, this.onSortChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.onRowGroupChanged.bind(this));\n        this.onSortChanged();\n        this.onFilterChanged();\n        this.onRowGroupChanged();\n    };\n    RowDragFeature.prototype.onSortChanged = function () {\n        this.isGridSorted = this.sortController.isSortActive();\n    };\n    RowDragFeature.prototype.onFilterChanged = function () {\n        this.isGridFiltered = this.filterManager.isAnyFilterPresent();\n    };\n    RowDragFeature.prototype.onRowGroupChanged = function () {\n        var rowGroups = this.columnModel.getRowGroupColumns();\n        this.isRowGroupActive = !missingOrEmpty(rowGroups);\n    };\n    RowDragFeature.prototype.getContainer = function () {\n        return this.eContainer;\n    };\n    RowDragFeature.prototype.isInterestedIn = function (type) {\n        return type === DragSourceType.RowDrag;\n    };\n    RowDragFeature.prototype.getIconName = function () {\n        var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n        if (managedDrag && this.shouldPreventRowMove()) {\n            return DragAndDropService.ICON_NOT_ALLOWED;\n        }\n        return DragAndDropService.ICON_MOVE;\n    };\n    RowDragFeature.prototype.shouldPreventRowMove = function () {\n        return this.isGridSorted || this.isGridFiltered || this.isRowGroupActive;\n    };\n    RowDragFeature.prototype.getRowNodes = function (draggingEvent) {\n        if (!this.isFromThisGrid(draggingEvent)) {\n            return draggingEvent.dragItem.rowNodes || [];\n        }\n        var enableMultiRowDragging = this.gridOptionsWrapper.isEnableMultiRowDragging();\n        var selectedNodes = this.selectionService.getSelectedNodes();\n        var currentNode = draggingEvent.dragItem.rowNode;\n        if (enableMultiRowDragging && selectedNodes.indexOf(currentNode) !== -1) {\n            this.isMultiRowDrag = true;\n            return __spreadArrays(selectedNodes);\n        }\n        this.isMultiRowDrag = false;\n        return [currentNode];\n    };\n    RowDragFeature.prototype.onDragEnter = function (draggingEvent) {\n        // when entering, we fire the enter event, then in onEnterOrDragging,\n        // we also fire the move event. so we get both events when entering.\n        this.dispatchGridEvent(Events.EVENT_ROW_DRAG_ENTER, draggingEvent);\n        this.getRowNodes(draggingEvent).forEach(function (rowNode) {\n            rowNode.setDragging(true);\n        });\n        this.onEnterOrDragging(draggingEvent);\n    };\n    RowDragFeature.prototype.onDragging = function (draggingEvent) {\n        this.onEnterOrDragging(draggingEvent);\n    };\n    RowDragFeature.prototype.isFromThisGrid = function (draggingEvent) {\n        var dragSourceDomDataKey = draggingEvent.dragSource.dragSourceDomDataKey;\n        return dragSourceDomDataKey === this.gridOptionsWrapper.getDomDataKey();\n    };\n    RowDragFeature.prototype.isDropZoneWithinThisGrid = function (draggingEvent) {\n        var gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n        var gridGui = gridBodyCon.getGui();\n        var dropZoneTarget = draggingEvent.dropZoneTarget;\n        return !gridGui.contains(dropZoneTarget);\n    };\n    RowDragFeature.prototype.onEnterOrDragging = function (draggingEvent) {\n        // this event is fired for enter and move\n        this.dispatchGridEvent(Events.EVENT_ROW_DRAG_MOVE, draggingEvent);\n        this.lastDraggingEvent = draggingEvent;\n        var pixel = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n        var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n        if (managedDrag) {\n            this.doManagedDrag(draggingEvent, pixel);\n        }\n        this.checkCenterForScrolling(pixel);\n    };\n    RowDragFeature.prototype.doManagedDrag = function (draggingEvent, pixel) {\n        var _this = this;\n        var rowNodes;\n        var isFromThisGrid = this.isFromThisGrid(draggingEvent);\n        if (isFromThisGrid) {\n            rowNodes = [draggingEvent.dragItem.rowNode];\n            if (this.isMultiRowDrag) {\n                rowNodes = __spreadArrays(this.selectionService.getSelectedNodes()).sort(function (a, b) { return _this.getRowIndexNumber(a) - _this.getRowIndexNumber(b); });\n            }\n            draggingEvent.dragItem.rowNodes = rowNodes;\n        }\n        else {\n            rowNodes = draggingEvent.dragItem.rowNodes;\n        }\n        var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n        if (managedDrag && this.shouldPreventRowMove()) {\n            return;\n        }\n        if (this.gridOptionsWrapper.isSuppressMoveWhenRowDragging() || !isFromThisGrid) {\n            if (!this.isDropZoneWithinThisGrid(draggingEvent)) {\n                this.clientSideRowModel.highlightRowAtPixel(rowNodes[0], pixel);\n            }\n        }\n        else {\n            this.moveRows(rowNodes, pixel);\n        }\n    };\n    RowDragFeature.prototype.getRowIndexNumber = function (rowNode) {\n        return parseInt(last(rowNode.getRowIndexString().split('-')), 10);\n    };\n    RowDragFeature.prototype.moveRowAndClearHighlight = function (draggingEvent) {\n        var _this = this;\n        var lastHighlightedRowNode = this.clientSideRowModel.getLastHighlightedRowNode();\n        var isBelow = lastHighlightedRowNode && lastHighlightedRowNode.highlighted === RowHighlightPosition.Below;\n        var pixel = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n        var rowNodes = draggingEvent.dragItem.rowNodes;\n        var increment = isBelow ? 1 : 0;\n        if (this.isFromThisGrid(draggingEvent)) {\n            rowNodes.forEach(function (rowNode) {\n                if (rowNode.rowTop < pixel) {\n                    increment -= 1;\n                }\n            });\n            this.moveRows(rowNodes, pixel, increment);\n        }\n        else {\n            var getRowNodeId_1 = this.gridOptionsWrapper.getRowNodeIdFunc();\n            var addIndex = this.clientSideRowModel.getRowIndexAtPixel(pixel) + 1;\n            if (this.clientSideRowModel.getHighlightPosition(pixel) === RowHighlightPosition.Above) {\n                addIndex--;\n            }\n            this.clientSideRowModel.updateRowData({\n                add: rowNodes\n                    .map(function (node) { return node.data; })\n                    .filter(function (data) { return !_this.clientSideRowModel.getRowNode(getRowNodeId_1 ? getRowNodeId_1(data) : data.id); }),\n                addIndex: addIndex\n            });\n        }\n        this.clearRowHighlight();\n    };\n    RowDragFeature.prototype.clearRowHighlight = function () {\n        this.clientSideRowModel.highlightRowAtPixel(null);\n    };\n    RowDragFeature.prototype.moveRows = function (rowNodes, pixel, increment) {\n        if (increment === void 0) { increment = 0; }\n        var rowWasMoved = this.clientSideRowModel.ensureRowsAtPixel(rowNodes, pixel, increment);\n        if (rowWasMoved) {\n            this.focusService.clearFocusedCell();\n            if (this.rangeService) {\n                this.rangeService.removeAllCellRanges();\n            }\n        }\n    };\n    RowDragFeature.prototype.checkCenterForScrolling = function (pixel) {\n        // scroll if the mouse is within 50px of the grid edge\n        var gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n        var pixelRange = gridBodyCon.getScrollFeature().getVScrollPosition();\n        // console.log(`pixelRange = (${pixelRange.top}, ${pixelRange.bottom})`);\n        this.needToMoveUp = pixel < (pixelRange.top + 50);\n        this.needToMoveDown = pixel > (pixelRange.bottom - 50);\n        // console.log(`needToMoveUp = ${this.needToMoveUp} = pixel < (pixelRange.top + 50) = ${pixel} < (${pixelRange.top} + 50)`);\n        // console.log(`needToMoveDown = ${this.needToMoveDown} = pixel < (pixelRange.top + 50) = ${pixel} < (${pixelRange.top} + 50)`);\n        if (this.needToMoveUp || this.needToMoveDown) {\n            this.ensureIntervalStarted();\n        }\n        else {\n            this.ensureIntervalCleared();\n        }\n    };\n    RowDragFeature.prototype.ensureIntervalStarted = function () {\n        if (this.movingIntervalId) {\n            return;\n        }\n        this.intervalCount = 0;\n        this.movingIntervalId = window.setInterval(this.moveInterval.bind(this), 100);\n    };\n    RowDragFeature.prototype.ensureIntervalCleared = function () {\n        if (!exists(this.movingIntervalId)) {\n            return;\n        }\n        window.clearInterval(this.movingIntervalId);\n        this.movingIntervalId = null;\n    };\n    RowDragFeature.prototype.moveInterval = function () {\n        // the amounts we move get bigger at each interval, so the speed accelerates, starting a bit slow\n        // and getting faster. this is to give smoother user experience. we max at 100px to limit the speed.\n        var pixelsToMove;\n        this.intervalCount++;\n        pixelsToMove = 10 + (this.intervalCount * 5);\n        if (pixelsToMove > 100) {\n            pixelsToMove = 100;\n        }\n        var pixelsMoved = null;\n        var gridBodyCon = this.ctrlsService.getGridBodyCtrl();\n        if (this.needToMoveDown) {\n            pixelsMoved = gridBodyCon.scrollVertically(pixelsToMove);\n        }\n        else if (this.needToMoveUp) {\n            pixelsMoved = gridBodyCon.scrollVertically(-pixelsToMove);\n        }\n        if (pixelsMoved !== 0) {\n            this.onDragging(this.lastDraggingEvent);\n        }\n    };\n    RowDragFeature.prototype.addRowDropZone = function (params) {\n        var _this = this;\n        if (!params.getContainer()) {\n            doOnce(function () { return console.warn('AG Grid: addRowDropZone - A container target needs to be provided'); }, 'add-drop-zone-empty-target');\n            return;\n        }\n        if (this.dragAndDropService.findExternalZone(params)) {\n            console.warn('AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.');\n            return;\n        }\n        var processedParams = {\n            getContainer: params.getContainer\n        };\n        if (params.fromGrid) {\n            params.fromGrid = undefined;\n            processedParams = params;\n        }\n        else {\n            if (params.onDragEnter) {\n                processedParams.onDragEnter = function (e) {\n                    params.onDragEnter(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER, e));\n                };\n            }\n            if (params.onDragLeave) {\n                processedParams.onDragLeave = function (e) {\n                    params.onDragLeave(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE, e));\n                };\n            }\n            if (params.onDragging) {\n                processedParams.onDragging = function (e) {\n                    params.onDragging(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE, e));\n                };\n            }\n            if (params.onDragStop) {\n                processedParams.onDragStop = function (e) {\n                    params.onDragStop(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END, e));\n                };\n            }\n        }\n        this.dragAndDropService.addDropTarget(__assign({ isInterestedIn: function (type) { return type === DragSourceType.RowDrag; }, getIconName: function () { return DragAndDropService.ICON_MOVE; }, external: true }, processedParams));\n    };\n    RowDragFeature.prototype.getRowDropZone = function (events) {\n        var _this = this;\n        var getContainer = this.getContainer.bind(this);\n        var onDragEnter = this.onDragEnter.bind(this);\n        var onDragLeave = this.onDragLeave.bind(this);\n        var onDragging = this.onDragging.bind(this);\n        var onDragStop = this.onDragStop.bind(this);\n        if (!events) {\n            return { getContainer: getContainer, onDragEnter: onDragEnter, onDragLeave: onDragLeave, onDragging: onDragging, onDragStop: onDragStop, /* @private */ fromGrid: true };\n        }\n        return {\n            getContainer: getContainer,\n            onDragEnter: events.onDragEnter\n                ? (function (e) {\n                    onDragEnter(e);\n                    events.onDragEnter(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER, e));\n                })\n                : onDragEnter,\n            onDragLeave: events.onDragLeave\n                ? (function (e) {\n                    onDragLeave(e);\n                    events.onDragLeave(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE, e));\n                })\n                : onDragLeave,\n            onDragging: events.onDragging\n                ? (function (e) {\n                    onDragging(e);\n                    events.onDragging(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE, e));\n                })\n                : onDragging,\n            onDragStop: events.onDragStop\n                ? (function (e) {\n                    onDragStop(e);\n                    events.onDragStop(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END, e));\n                })\n                : onDragStop,\n            fromGrid: true /* @private */\n        };\n    };\n    RowDragFeature.prototype.draggingToRowDragEvent = function (type, draggingEvent) {\n        var yNormalised = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n        var mouseIsPastLastRow = yNormalised > this.paginationProxy.getCurrentPageHeight();\n        var overIndex = -1;\n        var overNode;\n        if (!mouseIsPastLastRow) {\n            overIndex = this.rowModel.getRowIndexAtPixel(yNormalised);\n            overNode = this.rowModel.getRow(overIndex);\n        }\n        var vDirectionString;\n        switch (draggingEvent.vDirection) {\n            case VerticalDirection.Down:\n                vDirectionString = 'down';\n                break;\n            case VerticalDirection.Up:\n                vDirectionString = 'up';\n                break;\n            default:\n                vDirectionString = null;\n                break;\n        }\n        var event = {\n            type: type,\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            event: draggingEvent.event,\n            node: draggingEvent.dragItem.rowNode,\n            nodes: draggingEvent.dragItem.rowNodes,\n            overIndex: overIndex,\n            overNode: overNode,\n            y: yNormalised,\n            vDirection: vDirectionString\n        };\n        return event;\n    };\n    RowDragFeature.prototype.dispatchGridEvent = function (type, draggingEvent) {\n        var event = this.draggingToRowDragEvent(type, draggingEvent);\n        this.eventService.dispatchEvent(event);\n    };\n    RowDragFeature.prototype.onDragLeave = function (draggingEvent) {\n        this.dispatchGridEvent(Events.EVENT_ROW_DRAG_LEAVE, draggingEvent);\n        this.stopDragging(draggingEvent);\n        if (this.gridOptionsWrapper.isRowDragManaged()) {\n            this.clearRowHighlight();\n        }\n        if (this.isFromThisGrid(draggingEvent)) {\n            this.isMultiRowDrag = false;\n        }\n    };\n    RowDragFeature.prototype.onDragStop = function (draggingEvent) {\n        this.dispatchGridEvent(Events.EVENT_ROW_DRAG_END, draggingEvent);\n        this.stopDragging(draggingEvent);\n        if (this.gridOptionsWrapper.isRowDragManaged() &&\n            (this.gridOptionsWrapper.isSuppressMoveWhenRowDragging() || !this.isFromThisGrid(draggingEvent)) &&\n            !this.isDropZoneWithinThisGrid(draggingEvent)) {\n            this.moveRowAndClearHighlight(draggingEvent);\n        }\n    };\n    RowDragFeature.prototype.stopDragging = function (draggingEvent) {\n        this.ensureIntervalCleared();\n        this.getRowNodes(draggingEvent).forEach(function (rowNode) {\n            rowNode.setDragging(false);\n        });\n    };\n    __decorate([\n        Autowired('dragAndDropService')\n    ], RowDragFeature.prototype, \"dragAndDropService\", void 0);\n    __decorate([\n        Autowired('rowModel')\n    ], RowDragFeature.prototype, \"rowModel\", void 0);\n    __decorate([\n        Autowired('paginationProxy')\n    ], RowDragFeature.prototype, \"paginationProxy\", void 0);\n    __decorate([\n        Autowired('columnModel')\n    ], RowDragFeature.prototype, \"columnModel\", void 0);\n    __decorate([\n        Autowired('focusService')\n    ], RowDragFeature.prototype, \"focusService\", void 0);\n    __decorate([\n        Autowired('sortController')\n    ], RowDragFeature.prototype, \"sortController\", void 0);\n    __decorate([\n        Autowired('filterManager')\n    ], RowDragFeature.prototype, \"filterManager\", void 0);\n    __decorate([\n        Autowired('selectionService')\n    ], RowDragFeature.prototype, \"selectionService\", void 0);\n    __decorate([\n        Optional('rangeService')\n    ], RowDragFeature.prototype, \"rangeService\", void 0);\n    __decorate([\n        Autowired('mouseEventService')\n    ], RowDragFeature.prototype, \"mouseEventService\", void 0);\n    __decorate([\n        Autowired('ctrlsService')\n    ], RowDragFeature.prototype, \"ctrlsService\", void 0);\n    __decorate([\n        PostConstruct\n    ], RowDragFeature.prototype, \"postConstruct\", null);\n    return RowDragFeature;\n}(BeanStub));\nexport { RowDragFeature };\n"]},"metadata":{},"sourceType":"module"}